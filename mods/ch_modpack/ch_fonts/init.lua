ch_base.open_mod(minetest.get_current_modname())

font_api.register_font("dvsmono", {
    height = 31,
    widths = {
        [0] = 16,
        [32] = 16,
        [33] = 16,
        [34] = 16,
        [35] = 16,
        [36] = 16,
        [37] = 16,
        [38] = 16,
        [39] = 16,
        [40] = 16,
        [41] = 16,
        [42] = 16,
        [43] = 16,
        [44] = 16,
        [45] = 16,
        [46] = 16,
        [47] = 16,
        [48] = 16,
        [49] = 16,
        [50] = 16,
        [51] = 16,
        [52] = 16,
        [53] = 16,
        [54] = 16,
        [55] = 16,
        [56] = 16,
        [57] = 16,
        [58] = 16,
        [59] = 16,
        [60] = 16,
        [61] = 16,
        [62] = 16,
        [63] = 16,
        [64] = 16,
        [65] = 16,
        [66] = 16,
        [67] = 16,
        [68] = 16,
        [69] = 16,
        [70] = 16,
        [71] = 16,
        [72] = 16,
        [73] = 16,
        [74] = 16,
        [75] = 16,
        [76] = 16,
        [77] = 16,
        [78] = 16,
        [79] = 16,
        [80] = 16,
        [81] = 16,
        [82] = 16,
        [83] = 16,
        [84] = 16,
        [85] = 16,
        [86] = 16,
        [87] = 16,
        [88] = 16,
        [89] = 16,
        [90] = 16,
        [91] = 16,
        [92] = 16,
        [93] = 16,
        [94] = 16,
        [95] = 16,
        [96] = 16,
        [97] = 16,
        [98] = 16,
        [99] = 16,
        [100] = 16,
        [101] = 16,
        [102] = 16,
        [103] = 16,
        [104] = 16,
        [105] = 16,
        [106] = 16,
        [107] = 16,
        [108] = 16,
        [109] = 16,
        [110] = 16,
        [111] = 16,
        [112] = 16,
        [113] = 16,
        [114] = 16,
        [115] = 16,
        [116] = 16,
        [117] = 16,
        [118] = 16,
        [119] = 16,
        [120] = 16,
        [121] = 16,
        [122] = 16,
        [123] = 16,
        [124] = 16,
        [125] = 16,
        [126] = 16,
        [160] = 16,
        [161] = 16,
        [162] = 16,
        [163] = 16,
        [164] = 16,
        [165] = 16,
        [166] = 16,
        [167] = 16,
        [168] = 16,
        [169] = 16,
        [170] = 16,
        [171] = 16,
        [172] = 16,
        [173] = 16,
        [174] = 16,
        [175] = 16,
        [176] = 16,
        [177] = 16,
        [178] = 16,
        [179] = 16,
        [180] = 16,
        [181] = 16,
        [182] = 16,
        [183] = 16,
        [184] = 16,
        [185] = 16,
        [186] = 16,
        [187] = 16,
        [188] = 16,
        [189] = 16,
        [190] = 16,
        [191] = 16,
        [192] = 16,
        [193] = 16,
        [194] = 16,
        [195] = 16,
        [196] = 16,
        [197] = 16,
        [198] = 16,
        [199] = 16,
        [200] = 16,
        [201] = 16,
        [202] = 16,
        [203] = 16,
        [204] = 16,
        [205] = 16,
        [206] = 16,
        [207] = 16,
        [208] = 16,
        [209] = 16,
        [210] = 16,
        [211] = 16,
        [212] = 16,
        [213] = 16,
        [214] = 16,
        [215] = 16,
        [216] = 16,
        [217] = 16,
        [218] = 16,
        [219] = 16,
        [220] = 16,
        [221] = 16,
        [222] = 16,
        [223] = 16,
        [224] = 16,
        [225] = 16,
        [226] = 16,
        [227] = 16,
        [228] = 16,
        [229] = 16,
        [230] = 16,
        [231] = 16,
        [232] = 16,
        [233] = 16,
        [234] = 16,
        [235] = 16,
        [236] = 16,
        [237] = 16,
        [238] = 16,
        [239] = 16,
        [240] = 16,
        [241] = 16,
        [242] = 16,
        [243] = 16,
        [244] = 16,
        [245] = 16,
        [246] = 16,
        [247] = 16,
        [248] = 16,
        [249] = 16,
        [250] = 16,
        [251] = 16,
        [252] = 16,
        [253] = 16,
        [254] = 16,
        [255] = 16,
        [256] = 16,
        [257] = 16,
        [258] = 16,
        [259] = 16,
        [260] = 16,
        [261] = 16,
        [262] = 16,
        [263] = 16,
        [264] = 16,
        [265] = 16,
        [266] = 16,
        [267] = 16,
        [268] = 16,
        [269] = 16,
        [270] = 16,
        [271] = 17,
        [272] = 16,
        [273] = 16,
        [274] = 16,
        [275] = 16,
        [276] = 16,
        [277] = 16,
        [278] = 16,
        [279] = 16,
        [280] = 16,
        [281] = 16,
        [282] = 16,
        [283] = 16,
        [284] = 16,
        [285] = 16,
        [286] = 16,
        [287] = 16,
        [288] = 16,
        [289] = 16,
        [290] = 16,
        [291] = 16,
        [292] = 16,
        [293] = 16,
        [294] = 16,
        [295] = 16,
        [296] = 16,
        [297] = 16,
        [298] = 16,
        [299] = 16,
        [300] = 16,
        [301] = 16,
        [302] = 16,
        [303] = 16,
        [304] = 16,
        [305] = 16,
        [306] = 18,
        [307] = 18,
        [308] = 16,
        [309] = 16,
        [310] = 16,
        [311] = 16,
        [312] = 16,
        [313] = 16,
        [314] = 16,
        [315] = 16,
        [316] = 16,
        [317] = 16,
        [318] = 16,
        [319] = 16,
        [320] = 16,
        [321] = 18,
        [322] = 16,
        [323] = 16,
        [324] = 16,
        [325] = 16,
        [326] = 16,
        [327] = 16,
        [328] = 16,
        [329] = 16,
        [330] = 16,
        [331] = 16,
        [332] = 16,
        [333] = 16,
        [334] = 16,
        [335] = 16,
        [336] = 16,
        [337] = 16,
        [338] = 16,
        [339] = 16,
        [340] = 16,
        [341] = 16,
        [342] = 16,
        [343] = 16,
        [344] = 16,
        [345] = 16,
        [346] = 16,
        [347] = 16,
        [348] = 16,
        [349] = 16,
        [350] = 16,
        [351] = 16,
        [352] = 16,
        [353] = 16,
        [354] = 16,
        [355] = 16,
        [356] = 16,
        [357] = 16,
        [358] = 16,
        [359] = 16,
        [360] = 16,
        [361] = 16,
        [362] = 16,
        [363] = 16,
        [364] = 16,
        [365] = 16,
        [366] = 16,
        [367] = 16,
        [368] = 16,
        [369] = 16,
        [370] = 16,
        [371] = 16,
        [372] = 16,
        [373] = 16,
        [374] = 16,
        [375] = 16,
        [376] = 16,
        [377] = 16,
        [378] = 16,
        [379] = 16,
        [380] = 16,
        [381] = 16,
        [382] = 16,
        [383] = 16,
}})

font_api.register_font("dvssans", {
    height = 31,
    widths = {
        [0] = 17,
        [32] = 17,
        [33] = 11,
        [34] = 13,
        [35] = 22,
        [36] = 17,
        [37] = 25,
        [38] = 21,
        [39] = 8,
        [40] = 11,
        [41] = 11,
        [42] = 14,
        [43] = 22,
        [44] = 9,
        [45] = 10,
        [46] = 9,
        [47] = 9,
        [48] = 17,
        [49] = 17,
        [50] = 17,
        [51] = 17,
        [52] = 17,
        [53] = 17,
        [54] = 17,
        [55] = 17,
        [56] = 17,
        [57] = 17,
        [58] = 9,
        [59] = 9,
        [60] = 22,
        [61] = 22,
        [62] = 22,
        [63] = 14,
        [64] = 26,
        [65] = 18,
        [66] = 18,
        [67] = 18,
        [68] = 20,
        [69] = 17,
        [70] = 15,
        [71] = 20,
        [72] = 20,
        [73] = 8,
        [74] = 12,
        [75] = 18,
        [76] = 15,
        [77] = 23,
        [78] = 20,
        [79] = 21,
        [80] = 16,
        [81] = 21,
        [82] = 18,
        [83] = 17,
        [84] = 18,
        [85] = 19,
        [86] = 18,
        [87] = 26,
        [88] = 18,
        [89] = 18,
        [90] = 18,
        [91] = 11,
        [92] = 9,
        [93] = 11,
        [94] = 22,
        [95] = 16,
        [96] = 14,
        [97] = 16,
        [98] = 17,
        [99] = 15,
        [100] = 17,
        [101] = 16,
        [102] = 10,
        [103] = 17,
        [104] = 17,
        [105] = 8,
        [106] = 10,
        [107] = 15,
        [108] = 8,
        [109] = 25,
        [110] = 17,
        [111] = 16,
        [112] = 17,
        [113] = 17,
        [114] = 11,
        [115] = 14,
        [116] = 11,
        [117] = 17,
        [118] = 16,
        [119] = 21,
        [120] = 16,
        [121] = 16,
        [122] = 14,
        [123] = 17,
        [124] = 9,
        [125] = 17,
        [126] = 22,
        [127] = 16,
        [160] = 9,
        [161] = 11,
        [162] = 17,
        [163] = 17,
        [164] = 17,
        [165] = 17,
        [166] = 9,
        [167] = 14,
        [168] = 14,
        [169] = 26,
        [170] = 13,
        [171] = 16,
        [172] = 22,
        [173] = 10,
        [174] = 26,
        [175] = 14,
        [176] = 14,
        [177] = 22,
        [178] = 11,
        [179] = 11,
        [180] = 14,
        [181] = 17,
        [182] = 17,
        [183] = 9,
        [184] = 14,
        [185] = 11,
        [186] = 13,
        [187] = 16,
        [188] = 25,
        [189] = 25,
        [190] = 25,
        [191] = 14,
        [192] = 18,
        [193] = 18,
        [194] = 18,
        [195] = 18,
        [196] = 18,
        [197] = 18,
        [198] = 25,
        [199] = 18,
        [200] = 17,
        [201] = 17,
        [202] = 17,
        [203] = 17,
        [204] = 8,
        [205] = 8,
        [206] = 10,
        [207] = 8,
        [208] = 20,
        [209] = 20,
        [210] = 21,
        [211] = 21,
        [212] = 21,
        [213] = 21,
        [214] = 21,
        [215] = 22,
        [216] = 21,
        [217] = 19,
        [218] = 19,
        [219] = 19,
        [220] = 19,
        [221] = 18,
        [222] = 16,
        [223] = 17,
        [224] = 16,
        [225] = 16,
        [226] = 16,
        [227] = 16,
        [228] = 16,
        [229] = 16,
        [230] = 26,
        [231] = 15,
        [232] = 16,
        [233] = 16,
        [234] = 16,
        [235] = 16,
        [236] = 12,
        [237] = 9,
        [238] = 10,
        [239] = 10,
        [240] = 16,
        [241] = 17,
        [242] = 16,
        [243] = 16,
        [244] = 16,
        [245] = 16,
        [246] = 16,
        [247] = 22,
        [248] = 16,
        [249] = 17,
        [250] = 17,
        [251] = 17,
        [252] = 17,
        [253] = 16,
        [254] = 17,
        [255] = 16,
        [256] = 18,
        [257] = 16,
        [258] = 18,
        [259] = 16,
        [260] = 19,
        [261] = 16,
        [262] = 18,
        [263] = 15,
        [264] = 18,
        [265] = 15,
        [266] = 18,
        [267] = 15,
        [268] = 18,
        [269] = 15,
        [270] = 20,
        [271] = 19,
        [272] = 20,
        [273] = 17,
        [274] = 17,
        [275] = 16,
        [276] = 17,
        [277] = 16,
        [278] = 17,
        [279] = 16,
        [280] = 17,
        [281] = 16,
        [282] = 17,
        [283] = 16,
        [284] = 20,
        [285] = 17,
        [286] = 20,
        [287] = 17,
        [288] = 20,
        [289] = 17,
        [290] = 20,
        [291] = 17,
        [292] = 20,
        [293] = 19,
        [294] = 24,
        [295] = 18,
        [296] = 11,
        [297] = 13,
        [298] = 8,
        [299] = 10,
        [300] = 11,
        [301] = 10,
        [302] = 8,
        [303] = 8,
        [304] = 8,
        [305] = 8,
        [306] = 16,
        [307] = 15,
        [308] = 12,
        [309] = 10,
        [310] = 18,
        [311] = 15,
        [312] = 15,
        [313] = 15,
        [314] = 8,
        [315] = 15,
        [316] = 8,
        [317] = 15,
        [318] = 10,
        [319] = 15,
        [320] = 10,
        [321] = 17,
        [322] = 8,
        [323] = 20,
        [324] = 17,
        [325] = 20,
        [326] = 17,
        [327] = 20,
        [328] = 17,
        [329] = 21,
        [330] = 20,
        [331] = 17,
        [332] = 21,
        [333] = 16,
        [334] = 21,
        [335] = 16,
        [336] = 21,
        [337] = 16,
        [338] = 28,
        [339] = 27,
        [340] = 18,
        [341] = 12,
        [342] = 18,
        [343] = 11,
        [344] = 18,
        [345] = 11,
        [346] = 17,
        [347] = 14,
        [348] = 17,
        [349] = 14,
        [350] = 17,
        [351] = 14,
        [352] = 17,
        [353] = 14,
        [354] = 18,
        [355] = 11,
        [356] = 18,
        [357] = 11,
        [358] = 18,
        [359] = 11,
        [360] = 19,
        [361] = 17,
        [362] = 19,
        [363] = 17,
        [364] = 19,
        [365] = 17,
        [366] = 19,
        [367] = 17,
        [368] = 19,
        [369] = 17,
        [370] = 19,
        [371] = 17,
        [372] = 26,
        [373] = 21,
        [374] = 18,
        [375] = 16,
        [376] = 18,
        [377] = 18,
        [378] = 14,
        [379] = 18,
        [380] = 14,
        [381] = 18,
        [382] = 14,
        [383] = 10,        
}})

font_api.register_font("z003", {
	height = 32,
	widths = {
        [0] = 16,
        [32] = 16,
        [33] = 11,
        [34] = 11,
        [35] = 19,
        [36] = 15,
        [37] = 22,
        [38] = 27,
        [39] = 9,
        [40] = 13,
        [41] = 10,
        [42] = 16,
        [43] = 17,
        [44] = 8,
        [45] = 10,
        [46] = 8,
        [47] = 19,
        [48] = 16,
        [49] = 14,
        [50] = 15,
        [51] = 15,
        [52] = 15,
        [53] = 18,
        [54] = 17,
        [55] = 17,
        [56] = 16,
        [57] = 15,
        [58] = 10,
        [59] = 9,
        [60] = 19,
        [61] = 17,
        [62] = 18,
        [63] = 16,
        [64] = 24,
        [65] = 22,
        [66] = 20,
        [67] = 20,
        [68] = 24,
        [69] = 21,
        [70] = 23,
        [71] = 21,
        [72] = 28,
        [73] = 15,
        [74] = 16,
        [75] = 27,
        [76] = 20,
        [77] = 31,
        [78] = 28,
        [79] = 21,
        [80] = 20,
        [81] = 27,
        [82] = 26,
        [83] = 17,
        [84] = 23,
        [85] = 24,
        [86] = 25,
        [87] = 32,
        [88] = 21,
        [89] = 24,
        [90] = 21,
        [91] = 13,
        [92] = 16,
        [93] = 12,
        [94] = 17,
        [95] = 20,
        [96] = 9,
        [97] = 16,
        [98] = 15,
        [99] = 12,
        [100] = 20,
        [101] = 12,
        [102] = 25,
        [103] = 21,
        [104] = 16,
        [105] = 10,
        [106] = 20,
        [107] = 21,
        [108] = 14,
        [109] = 22,
        [110] = 17,
        [111] = 14,
        [112] = 17,
        [113] = 16,
        [114] = 13,
        [115] = 12,
        [116] = 13,
        [117] = 17,
        [118] = 16,
        [119] = 24,
        [120] = 18,
        [121] = 15,
        [122] = 15,
        [123] = 13,
        [124] = 17,
        [125] = 10,
        [126] = 17,
        [160] = 8,
        [161] = 10,
        [162] = 15,
        [163] = 14,
        [164] = 15,
        [165] = 22,
        [166] = 17,
        [167] = 15,
        [168] = 14,
        [169] = 26,
        [170] = 11,
        [171] = 13,
        [172] = 18,
        [173] = 10,
        [174] = 26,
        [175] = 16,
        [176] = 14,
        [177] = 17,
        [178] = 12,
        [179] = 11,
        [180] = 13,
        [181] = 17,
        [182] = 19,
        [183] = 8,
        [184] = 10,
        [185] = 10,
        [186] = 11,
        [187] = 13,
        [188] = 21,
        [189] = 21,
        [190] = 21,
        [191] = 14,
        [192] = 22,
        [193] = 22,
        [194] = 22,
        [195] = 24,
        [196] = 22,
        [197] = 22,
        [198] = 25,
        [199] = 20,
        [200] = 21,
        [201] = 21,
        [202] = 21,
        [203] = 21,
        [204] = 15,
        [205] = 15,
        [206] = 16,
        [207] = 15,
        [208] = 24,
        [209] = 28,
        [210] = 21,
        [211] = 21,
        [212] = 21,
        [213] = 21,
        [214] = 21,
        [215] = 17,
        [216] = 22,
        [217] = 24,
        [218] = 24,
        [219] = 24,
        [220] = 24,
        [221] = 24,
        [222] = 20,
        [223] = 26,
        [224] = 16,
        [225] = 16,
        [226] = 16,
        [227] = 16,
        [228] = 16,
        [229] = 16,
        [230] = 19,
        [231] = 12,
        [232] = 12,
        [233] = 13,
        [234] = 13,
        [235] = 13,
        [236] = 10,
        [237] = 12,
        [238] = 11,
        [239] = 12,
        [240] = 18,
        [241] = 17,
        [242] = 14,
        [243] = 14,
        [244] = 14,
        [245] = 16,
        [246] = 14,
        [247] = 17,
        [248] = 15,
        [249] = 17,
        [250] = 17,
        [251] = 17,
        [252] = 17,
        [253] = 15,
        [254] = 17,
        [255] = 15,
        [256] = 24,
        [257] = 16,
        [258] = 23,
        [259] = 17,
        [260] = 22,
        [261] = 16,
        [262] = 20,
        [263] = 14,
        [264] = 20,
        [265] = 14,
        [266] = 20,
        [267] = 12,
        [268] = 21,
        [269] = 15,
        [270] = 24,
        [271] = 22,
        [272] = 24,
        [273] = 20,
        [274] = 21,
        [275] = 15,
        [276] = 21,
        [277] = 16,
        [278] = 21,
        [279] = 12,
        [280] = 21,
        [281] = 12,
        [282] = 21,
        [283] = 16,
        [284] = 21,
        [285] = 21,
        [286] = 21,
        [287] = 22,
        [288] = 21,
        [289] = 21,
        [290] = 21,
        [291] = 21,
        [292] = 28,
        [293] = 18,
        [294] = 28,
        [295] = 16,
        [296] = 18,
        [297] = 12,
        [298] = 17,
        [299] = 13,
        [300] = 17,
        [301] = 13,
        [302] = 15,
        [303] = 10,
        [304] = 15,
        [305] = 10,
        [306] = 26,
        [307] = 17,
        [308] = 16,
        [309] = 20,
        [310] = 27,
        [311] = 21,
        [312] = 18,
        [313] = 20,
        [314] = 15,
        [315] = 20,
        [316] = 14,
        [317] = 22,
        [318] = 16,
        [319] = 20,
        [320] = 14,
        [321] = 20,
        [322] = 16,
        [323] = 28,
        [324] = 17,
        [325] = 28,
        [326] = 17,
        [327] = 28,
        [328] = 17,
        [329] = 18,
        [330] = 28,
        [331] = 15,
        [332] = 21,
        [333] = 17,
        [334] = 21,
        [335] = 17,
        [336] = 21,
        [337] = 17,
        [338] = 27,
        [339] = 19,
        [340] = 26,
        [341] = 14,
        [342] = 26,
        [343] = 13,
        [344] = 26,
        [345] = 15,
        [346] = 17,
        [347] = 14,
        [348] = 17,
        [349] = 13,
        [350] = 17,
        [351] = 14,
        [352] = 19,
        [353] = 15,
        [354] = 23,
        [355] = 13,
        [356] = 23,
        [357] = 15,
        [358] = 23,
        [359] = 13,
        [360] = 24,
        [361] = 17,
        [362] = 25,
        [363] = 17,
        [364] = 25,
        [365] = 18,
        [366] = 24,
        [367] = 17,
        [368] = 25,
        [369] = 17,
        [370] = 24,
        [371] = 17,
        [372] = 32,
        [373] = 24,
        [374] = 24,
        [375] = 15,
        [376] = 24,
        [377] = 21,
        [378] = 16,
        [379] = 21,
        [380] = 15,
        [381] = 21,
        [382] = 17,
        [383] = 25,
}})

-- Replace oldwizard font with z003:

core.register_lbm({
    label = "Change oldwizard font to z003",
    name = "ch_fonts:change_oldwizard_to_z003",
    nodenames = {"group:display_api"},
    action = function(pos, node, dtime_s)
        local meta = core.get_meta(pos)
        if meta:get_string("font") == "oldwizard" then
            meta:set_string("font", "z003")
        end
    end,
})

ch_base.close_mod(minetest.get_current_modname())
